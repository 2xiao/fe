---
title: 2184. 建造坚实的砖墙的方法数 🔒
description: LeetCode,2184. 建造坚实的砖墙的方法数 🔒,建造坚实的砖墙的方法数,Number of Ways to Build Sturdy Brick Wall,解题思路,位运算,数组,动态规划,状态压缩
keywords:
  - LeetCode
  - 2184. 建造坚实的砖墙的方法数 🔒
  - 建造坚实的砖墙的方法数
  - Number of Ways to Build Sturdy Brick Wall
  - 解题思路
  - 位运算
  - 数组
  - 动态规划
  - 状态压缩
---

# 2184. 建造坚实的砖墙的方法数 🔒

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`位运算`](/tag/bit-manipulation.md) [`数组`](/tag/array.md) [`动态规划`](/tag/dynamic-programming.md) [`状态压缩`](/tag/bitmask.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/number-of-ways-to-build-sturdy-brick-wall) [`LeetCode`](https://leetcode.com/problems/number-of-ways-to-build-sturdy-brick-wall)

## 题目

You are given integers `height` and `width` which specify the dimensions of a
brick wall you are building. You are also given a **0-indexed** array of
**unique** integers `bricks`, where the `ith` brick has a height of `1` and a
width of `bricks[i]`. You have an **infinite** supply of each type of brick
and bricks may **not** be rotated.

Each row in the wall must be exactly `width` units long. For the wall to be
**sturdy** , adjacent rows in the wall should **not** join bricks at the same
location, except at the ends of the wall.

Return _the number of ways to build a**sturdy** wall._ Since the answer may be
very large, return it **modulo** `109 + 7`.



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2100-2199/2184.Number%20of%20Ways%20to%20Build%20Sturdy%20Brick%20Wall/images/image-20220220190749-1.png)

> Input: height = 2, width = 3, bricks = [1,2]
> 
> Output: 2
> 
> Explanation:
> 
> The first two walls in the diagram show the only two ways to build a sturdy brick wall.
> 
> Note that the third wall in the diagram is not sturdy because adjacent rows join bricks 2 units from the left.

**Example 2:**

> Input: height = 1, width = 1, bricks = [5]
> 
> Output: 0
> 
> Explanation:
> 
> There are no ways to build a sturdy wall because the only type of brick we have is longer than the width of the wall.

**Constraints:**

  * `1 <= height <= 100`
  * `1 <= width <= 10`
  * `1 <= bricks.length <= 10`
  * `1 <= bricks[i] <= 10`
  * All the values of `bricks` are **unique**.


## 题目大意

给你两个整数 `height` 与`width` ，表示你要建造的砖墙的高和宽。再给你一个下标从 **0** 开始的数组 `bricks` ，其中第 `i`
块砖的高度是 `1` ，宽度为 `bricks[i]` 。每种砖的数量都是 **无限** 的，并且砖 **不可以** 进行旋转。

墙的每一行必须正好 `width` 单位长。为了让墙体**坚实** ，除了在首尾的位置，相邻的行砖缝**不能** 在同一个位置。

请你返回建造坚实的砖墙的方法数，由于答案可能很大，需要对 `109 + 7`**取余** 。



**示例 1：**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2100-2199/2184.Number%20of%20Ways%20to%20Build%20Sturdy%20Brick%20Wall/images/image-20220220190749-1.png)

> 
> 
> 
> 
> 
> **输入：** height = 2, width = 3, bricks = [1,2]
> 
> **输出：** 2
> 
> **解释：** 前两图中的两种方法是建造一座坚实砖墙的唯二的方法。注意，第三幅图所展示的不是坚实的砖墙，因为相邻的行在中间的连接点位置相同。
> 
> 

**示例 2：**

> 
> 
> 
> 
> 
> **输入：** height = 1, width = 1, bricks = [5]
> 
> **输出：** 0
> 
> **解释：** 无法建造符合题目要求的砖墙，因为仅有的砖的长度比墙还要长。
> 
> 



**提示：**

  * `1 <= height <= 100`
  * `1 <= width <= 10`
  * `1 <= bricks.length <= 10`
  * `1 <= bricks[i] <= 10`
  * `bricks` 中所有数字**互不相同**


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 554 | 砖墙 |  |  [`数组`](/tag/array.md) [`哈希表`](/tag/hash-table.md) | 🟠 | [🀄️](https://leetcode.cn/problems/brick-wall) [🔗](https://leetcode.com/problems/brick-wall) |
| 803 | 打砖块 |  |  [`并查集`](/tag/union-find.md) [`数组`](/tag/array.md) [`矩阵`](/tag/matrix.md) | 🔴 | [🀄️](https://leetcode.cn/problems/bricks-falling-when-hit) [🔗](https://leetcode.com/problems/bricks-falling-when-hit) |
| 2403 | 杀死所有怪物的最短时间 🔒 |  |  [`位运算`](/tag/bit-manipulation.md) [`数组`](/tag/array.md) [`动态规划`](/tag/dynamic-programming.md) `1+` | 🔴 | [🀄️](https://leetcode.cn/problems/minimum-time-to-kill-all-monsters) [🔗](https://leetcode.com/problems/minimum-time-to-kill-all-monsters) |