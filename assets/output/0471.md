---
title: 471. 编码最短长度的字符串 🔒
description: LeetCode,471. 编码最短长度的字符串 🔒,编码最短长度的字符串,Encode String with Shortest Length,解题思路,字符串,动态规划
keywords:
  - LeetCode
  - 471. 编码最短长度的字符串 🔒
  - 编码最短长度的字符串
  - Encode String with Shortest Length
  - 解题思路
  - 字符串
  - 动态规划
---

# 471. 编码最短长度的字符串 🔒

🔴 <font color=#ff334b>Hard</font>&emsp; 🔖&ensp; [`字符串`](/tag/string.md) [`动态规划`](/tag/dynamic-programming.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/encode-string-with-shortest-length) [`LeetCode`](https://leetcode.com/problems/encode-string-with-shortest-length)

## 题目

Given a string `s`, encode the string such that its encoded length is the
shortest.

The encoding rule is: `k[encoded_string]`, where the `encoded_string` inside
the square brackets is being repeated exactly `k` times. `k` should be a
positive integer.

If an encoding process does not make the string shorter, then do not encode
it. If there are several solutions, return **any of them**.



**Example 1:**

> Input: s = "aaa"
> 
> Output: "aaa"
> 
> Explanation: There is no way to encode it such that it is shorter than the input string, so we do not encode it.

**Example 2:**

> Input: s = "aaaaa"
> 
> Output: "5[a]"
> 
> Explanation: "5[a]" is shorter than "aaaaa" by 1 character.

**Example 3:**

> Input: s = "aaaaaaaaaa"
> 
> Output: "10[a]"
> 
> Explanation: "a9[a]" or "9[a]a" are also valid solutions, both of them have the same length = 5, which is the same as "10[a]".

**Constraints:**

  * `1 <= s.length <= 150`
  * `s` consists of only lowercase English letters.


## 题目大意

给定一个 **非空** 字符串，将其编码为具有最短长度的字符串。

编码规则是：`k[encoded_string]`，其中在方括号 `encoded_string` __ 中的内容重复 `k` 次。

**注：**

  * _k_ 为正整数
  * 如果编码的过程不能使字符串缩短，则不要对其进行编码。如果有多种编码方式，返回 **任意一种** 即可

**示例 1：**

> 
> 
> 
> 
> 
> **输入：** s = "aaa"
> 
> **输出：** "aaa"
> 
> **解释：** 无法将其编码为更短的字符串，因此不进行编码。
> 
> 

**示例 2：**

> 
> 
> 
> 
> 
> **输入：** s = "aaaaa"
> 
> **输出：** "5[a]"
> 
> **解释：** "5[a]" 比 "aaaaa" 短 1 个字符。
> 
> 

**示例 3：**

> 
> 
> 
> 
> 
> **输入：** s = "aaaaaaaaaa"
> 
> **输出：** "10[a]"
> 
> **解释：** "a9[a]" 或 "9[a]a" 都是合法的编码，和 "10[a]" 一样长度都为 5。
> 
> 

**示例 4：**

> 
> 
> 
> 
> 
> **输入：** s = "aabcaabcd"
> 
> **输出：** "2[aabc]d"
> 
> **解释：** "aabc" 出现两次，因此一种答案可以是 "2[aabc]d"。
> 
> 

**示例 5：**

> 
> 
> 
> 
> 
> **输入：** s = "abbbabbbcabbbabbbc"
> 
> **输出：** "2[2[abbb]c]"
> 
> **解释：** "abbbabbbc" 出现两次，但是 "abbbabbbc" 可以编码为 "2[abbb]c"，因此一种答案可以是 "2[2[abbb]c]"。
> 
> 

**提示：**

  * `1 <= s.length <= 150`
  * `s` 由小写英文字母组成


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------ | :------: |
| 394 | 字符串解码 | [[✓]](/problem/0394.md) |  [`栈`](/tag/stack.md) [`递归`](/tag/recursion.md) [`字符串`](/tag/string.md) | <font color=#ffb800>Medium</font> | [🀄️](https://leetcode.cn/problems/decode-string) [🔗](https://leetcode.com/problems/decode-string) |
| 726 | 原子的数量 |  |  [`栈`](/tag/stack.md) [`哈希表`](/tag/hash-table.md) [`字符串`](/tag/string.md) `1+` | <font color=#ff334b>Hard</font> | [🀄️](https://leetcode.cn/problems/number-of-atoms) [🔗](https://leetcode.com/problems/number-of-atoms) |