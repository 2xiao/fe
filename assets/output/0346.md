# [346. 数据流中的移动平均值 🔒](https://2xiao.github.io/leetcode-js/problem/0346.html)

🟢 <font color=#15bd66>Easy</font>&emsp; 🔖&ensp; [`设计`](/tag/design.md) [`队列`](/tag/queue.md) [`数组`](/tag/array.md) [`数据流`](/tag/data-stream.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/moving-average-from-data-stream) [`LeetCode`](https://leetcode.com/problems/moving-average-from-data-stream)

## 题目

Given a stream of integers and a window size, calculate the moving average of
all integers in the sliding window.

Implement the `MovingAverage` class:

  * `MovingAverage(int size)` Initializes the object with the size of the window `size`.
  * `double next(int val)` Returns the moving average of the last `size` values of the stream.



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["MovingAverage", "next", "next", "next", "next"]
> 
> [[3], [1], [10], [3], [5]]
> 
> **Output**
> 
> [null, 1.0, 5.5, 4.66667, 6.0]
> 
> 
> 
> **Explanation**
> 
> MovingAverage movingAverage = new MovingAverage(3);
> 
> movingAverage.next(1); // return 1.0 = 1 / 1
> 
> movingAverage.next(10); // return 5.5 = (1 + 10) / 2
> 
> movingAverage.next(3); // return 4.66667 = (1 + 10 + 3) / 3
> 
> movingAverage.next(5); // return 6.0 = (10 + 3 + 5) / 3

**Constraints:**

  * `1 <= size <= 1000`
  * `-10^5 <= val <= 10^5`
  * At most `10^4` calls will be made to `next`.


## 题目大意

给定一个整数数据流和一个窗口大小，根据该滑动窗口的大小，计算其所有整数的移动平均值。

实现 `MovingAverage` 类：

  * `MovingAverage(int size)` 用窗口大小 `size` 初始化对象。
  * `double next(int val)` 计算并返回数据流中最后 `size` 个值的移动平均值。

**示例：**

> 
> 
> 
> 
> 
> **输入：**
> 
> ["MovingAverage", "next", "next", "next", "next"]
> 
> [[3], [1], [10], [3], [5]]
> 
> **输出：**
> 
> [null, 1.0, 5.5, 4.66667, 6.0]
> 
> 
> 
> **解释：**
> 
> MovingAverage movingAverage = new MovingAverage(3);
> 
> movingAverage.next(1); // 返回 1.0 = 1 / 1
> 
> movingAverage.next(10); // 返回 5.5 = (1 + 10) / 2
> 
> movingAverage.next(3); // 返回 4.66667 = (1 + 10 + 3) / 3
> 
> movingAverage.next(5); // 返回 6.0 = (10 + 3 + 5) / 3
> 
> 

**提示：**

  * `1 <= size <= 1000`
  * `-10^5 <= val <= 10^5`
  * 最多调用 `next` 方法 `10^4` 次


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 |
| :------: | :------ | :------: | :------ | :------ |
| 2090 | [半径为 k 的子数组平均值](https://leetcode.com/problems/k-radius-subarray-averages) |  |  [`数组`](/tag/array.md) [`滑动窗口`](/tag/sliding-window.md) | <font color=#ffb800>Medium</font> |