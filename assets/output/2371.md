---
title: 2371. 最小化网格中的最大值 🔒
description: LeetCode 2371. 最小化网格中的最大值 🔒题解，Minimize Maximum Value in a Grid，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 2371. 最小化网格中的最大值 🔒
  - 最小化网格中的最大值
  - Minimize Maximum Value in a Grid
  - 解题思路
  - 并查集
  - 图
  - 拓扑排序
  - 数组
  - 矩阵
  - 排序
---

# 2371. 最小化网格中的最大值 🔒

🔴 <font color=#ff334b>Hard</font>&emsp; 🔖&ensp; [`并查集`](/tag/union-find.md) [`图`](/tag/graph.md) [`拓扑排序`](/tag/topological-sort.md) [`数组`](/tag/array.md) [`矩阵`](/tag/matrix.md) [`排序`](/tag/sorting.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/minimize-maximum-value-in-a-grid) [`LeetCode`](https://leetcode.com/problems/minimize-maximum-value-in-a-grid)

## 题目

You are given an `m x n` integer matrix `grid` containing **distinct**
positive integers.

You have to replace each integer in the matrix with a positive integer
satisfying the following conditions:

  * The **relative** order of every two elements that are in the same row or column should stay the **same** after the replacements.
  * The **maximum** number in the matrix after the replacements should be as **small** as possible.

The relative order stays the same if for all pairs of elements in the original
matrix such that `grid[r1][c1] > grid[r2][c2]` where either `r1 == r2` or `c1
== c2`, then it must be true that `grid[r1][c1] > grid[r2][c2]` after the
replacements.

For example, if `grid = [[2, 4, 5], [7, 3, 9]]` then a good replacement could
be either `grid = [[1, 2, 3], [2, 1, 4]]` or `grid = [[1, 2, 3], [3, 1, 4]]`.

Return _the**resulting** matrix._ If there are multiple answers, return
**any** of them.



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2300-2399/2371.Minimize%20Maximum%20Value%20in%20a%20Grid/images/grid2drawio.png)

> Input: grid = [[3,1],[2,5]]
> 
> Output: [[2,1],[1,2]]
> 
> Explanation: The above diagram shows a valid replacement.
> 
> The maximum number in the matrix is 2. It can be shown that no smaller value can be obtained.

**Example 2:**

> Input: grid = [[10]]
> 
> Output: [[1]]
> 
> Explanation: We replace the only number in the matrix with 1.

**Constraints:**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m, n <= 1000`
  * `1 <= m * n <= 10^5`
  * `1 <= grid[i][j] <= 10^9`
  * `grid` consists of distinct integers.


## 题目大意

给定一个包含 **不同  **正整数的 `m × n` 整数矩阵 `grid`。

必须将矩阵中的每一个整数替换为正整数，且满足以下条件:

  * 在替换之后，同行或同列中的每两个元素的 **相对  **顺序应该保持 **不变** 。
  * 替换后矩阵中的 **最大** 数目应尽可能 **小** 。

如果对于原始矩阵中的所有元素对，使 `grid[r1][c1] > grid[r2][c2]`，其中要么 `r1 == r2` ，要么 `c1 ==
c2`，则相对顺序保持不变。那么在替换之后一定满足 `grid[r1][c1] > grid[r2][c2]`。

例如，如果 `grid = [[2, 4, 5], [7, 3, 9]]`，那么一个好的替换可以是 `grid = [[1, 2, 3], [2, 1,
4]]` 或 `grid = [[1, 2, 3], [3, 1, 4]]`。

返回 _**结果  **矩阵_。如果有多个答案，则返回其中 **任何  **一个。



**示例 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2300-2399/2371.Minimize%20Maximum%20Value%20in%20a%20Grid/images/grid2drawio.png)

> 
> 
> 
> 
> 
> **输入:** grid = [[3,1],[2,5]]
> 
> **输出:** [[2,1],[1,2]]
> 
> **解释:** 上面的图显示了一个有效的替换。
> 
> 矩阵中的最大值是 2。可以证明，不能得到更小的值。
> 
> 

**示例 2:**

> 
> 
> 
> 
> 
> **输入:** grid = [[10]]
> 
> **输出:** [[1]]
> 
> **解释:** 我们将矩阵中唯一的数字替换为 1。
> 
> 



**提示:**

  * `m == grid.length`
  * `n == grid[i].length`
  * `1 <= m, n <= 1000`
  * `1 <= m * n <= 10^5`
  * `1 <= grid[i][j] <= 10^9`
  * `grid` 由不同的整数组成。


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 135 | 分发糖果 | [[✓]](/problem/0135.md) |  [`贪心`](/tag/greedy.md) [`数组`](/tag/array.md) | 🔴 | [🀄️](https://leetcode.cn/problems/candy) [🔗](https://leetcode.com/problems/candy) |