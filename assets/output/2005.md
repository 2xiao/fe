---
title: 2005. 斐波那契树的移除子树游戏 🔒
description: LeetCode,2005. 斐波那契树的移除子树游戏 🔒,斐波那契树的移除子树游戏,Subtree Removal Game with Fibonacci Tree,解题思路,树,数学,动态规划,二叉树,博弈
keywords:
  - LeetCode
  - 2005. 斐波那契树的移除子树游戏 🔒
  - 斐波那契树的移除子树游戏
  - Subtree Removal Game with Fibonacci Tree
  - 解题思路
  - 树
  - 数学
  - 动态规划
  - 二叉树
  - 博弈
---

# 2005. 斐波那契树的移除子树游戏 🔒

🔴 <font color=#ff334b>Hard</font>&emsp; 🔖&ensp; [`树`](/tag/tree.md) [`数学`](/tag/math.md) [`动态规划`](/tag/dynamic-programming.md) [`二叉树`](/tag/binary-tree.md) [`博弈`](/tag/game-theory.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/subtree-removal-game-with-fibonacci-tree) [`LeetCode`](https://leetcode.com/problems/subtree-removal-game-with-fibonacci-tree)

## 题目

A **Fibonacci** tree is a binary tree created using the order function
`order(n)`:

  * `order(0)` is the empty tree.
  * `order(1)` is a binary tree with only **one node**.
  * `order(n)` is a binary tree that consists of a root node with the left subtree as `order(n - 2)` and the right subtree as `order(n - 1)`.

Alice and Bob are playing a game with a **Fibonacci** tree with Alice staring
first. On each turn, a player selects a node and removes that node **and** its
subtree. The player that is forced to delete `root` loses.

Given the integer `n`, return `true` if Alice wins the game or `false` if Bob
wins, assuming both players play optimally.

A subtree of a binary tree `tree` is a tree that consists of a node in `tree`
and all of this node's descendants. The tree `tree` could also be considered
as a subtree of itself.



**Example 1:**  
![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2005.Subtree%20Removal%20Game%20with%20Fibonacci%20Tree/images/image-20210914173520-3.png)

> Input: n = 3
> 
> Output: true
> 
> Explanation:
> 
> Alice takes the node 1 in the right subtree.
> 
> Bob takes either the 1 in the left subtree or the 2 in the right subtree.
> 
> Alice takes whichever node Bob doesn't take.
> 
> Bob is forced to take the root node 3, so Bob will lose.
> 
> Return true because Alice wins.

**Example 2:**  
![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2005.Subtree%20Removal%20Game%20with%20Fibonacci%20Tree/images/image-20210914173634-4.png)

> Input: n = 1
> 
> Output: false
> 
> Explanation:
> 
> Alice is forced to take the root node 1, so Alice will lose.
> 
> Return false because Alice loses.

**Example 3:**  
![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2005.Subtree%20Removal%20Game%20with%20Fibonacci%20Tree/images/image-20210914173425-1.png)

> Input: n = 2
> 
> Output: true
> 
> Explanation:
> 
> Alice takes the node 1.
> 
> Bob is forced to take the root node 2, so Bob will lose.
> 
> Return true because Alice wins.

**Constraints:**

  * `1 <= n <= 100`


## 题目大意

**斐波那契** 树是一种按这种规则函数 `order(n)` 创建的二叉树：

  * `order(0)` 是空树。
  * `order(1)` 是一棵**只有一个节点** 的二叉树。
  * `order(n)` 是一棵根节点的左子树为 `order(n - 2)` 、右子树为 `order(n - 1)` 的二叉树。

Alice 和 Bob 在玩一种关于**斐波那契** 树的游戏，由 Alice 先手。在每个回合中，每个玩家选择一个节点，然后移除该节点**及**
其子树。只能删除根节点 `root` 的玩家输掉这场游戏。

给定一个整数 `n`，假定两名玩家都按最优策略进行游戏，若 Alice 赢得这场游戏，返回 `true` 。若 Bob 赢得这场游戏，返回 `false`
。

一棵二叉树的子树 `tree` 是由 `tree` 中某个节点及其所有后代节点组成的树。树 `tree` 也可当作自身的子树。



**示例 1:**  
![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2005.Subtree%20Removal%20Game%20with%20Fibonacci%20Tree/images/image-20210914173520-3.png)

> 
> 
> 
> 
> 
> **输入:** n = 3
> 
> **输出:** true
> 
> **解释:**
> 
> Alice 移除右子树中的节点 1。
> 
> Bob 要么移除左子树中的 1，要么移除右子树中的 2。
> 
> Alice 可以移除 Bob 未移除的任意节点。
> 
> Bob 只能删除根节点 3，所以 Bob 输了。
> 
> 返回 true，因为 Alice 赢了。
> 
> 

**示例 2:**  
![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2005.Subtree%20Removal%20Game%20with%20Fibonacci%20Tree/images/image-20210914173634-4.png)

> 
> 
> 
> 
> 
> **输入:** n = 1
> 
> **输出:** false
> 
> **解释:**
> 
> Alice 只能移除根节点 1, 所以 Alice 输了。
> 
> 返回 false，因为 Alice 输了。
> 
> 

**示例 3:**  
![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2000-2099/2005.Subtree%20Removal%20Game%20with%20Fibonacci%20Tree/images/image-20210914173425-1.png)

> 
> 
> 
> 
> 
> **输入:** n = 2
> 
> **输出:** true
> 
> **解释:**
> 
> Alice 删除节点 1.
> 
> Bob 只能删除根节点 2，所以 Bob 输了。
> 
> 返回 true，因为 Alice 赢了。
> 
> 



**提示：**

  * `1 <= n <= 100`


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1908 | Nim 游戏 II 🔒 |  |  [`位运算`](/tag/bit-manipulation.md) [`脑筋急转弯`](/tag/brainteaser.md) [`数组`](/tag/array.md) `3+` | 🟠 | [🀄️](https://leetcode.cn/problems/game-of-nim) [🔗](https://leetcode.com/problems/game-of-nim) |