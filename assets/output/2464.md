# [2464. 有效分割中的最少子数组数目](https://leetcode.com/problems/minimum-subarrays-in-a-valid-split)

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`数组`](/tag/array.md) [`数学`](/tag/math.md) [`动态规划`](/tag/dynamic-programming.md) [`数论`](/tag/number-theory.md)&emsp; 🔗&ensp;[`LeetCode`](https://leetcode.com/problems/minimum-subarrays-in-a-valid-split)

## 题目

You are given an integer array `nums`.

Splitting of an integer array `nums` into **subarrays** is **valid** if:

  * the _greatest common divisor_ of the first and last elements of each subarray is **greater** than `1`, and
  * each element of `nums` belongs to exactly one subarray.

Return _the**minimum** number of subarrays in a **valid** subarray splitting
of_ `nums`. If a valid subarray splitting is not possible, return `-1`.

**Note** that:

  * The **greatest common divisor** of two numbers is the largest positive integer that evenly divides both numbers.
  * A **subarray** is a contiguous non-empty part of an array.



**Example 1:**

> Input: nums = [2,6,3,4,3]
> 
> Output: 2
> 
> Explanation: We can create a valid split in the following way: [2,6] | [3,4,3].
> - The starting element of the 1st subarray is 2 and the ending is 6. Their greatest common divisor is 2, which is greater than 1.
> - The starting element of the 2nd subarray is 3 and the ending is 3. Their greatest common divisor is 3, which is greater than 1.
> 
> It can be proved that 2 is the minimum number of subarrays that we can obtain in a valid split.

**Example 2:**

> Input: nums = [3,5]
> 
> Output: 2
> 
> Explanation: We can create a valid split in the following way: [3] | [5].
> - The starting element of the 1st subarray is 3 and the ending is 3. Their greatest common divisor is 3, which is greater than 1.
> - The starting element of the 2nd subarray is 5 and the ending is 5. Their greatest common divisor is 5, which is greater than 1.
> 
> It can be proved that 2 is the minimum number of subarrays that we can obtain in a valid split.

**Example 3:**

> Input: nums = [1,2,1]
> 
> Output: -1
> 
> Explanation: It is impossible to create valid split.

**Constraints:**

  * `1 <= nums.length <= 1000`
  * `1 <= nums[i] <= 10^5`


## 题目大意

给定一个整数数组 `nums`。

如果要将整数数组 `nums` 拆分为 **子数组  **后是 **有效的** ，则必须满足:

  * 每个子数组的第一个和最后一个元素的最大公约数 **大于** `1`，且
  * `nums` 的每个元素只属于一个子数组。

返回 `nums` 的 **有效  **子数组拆分中的 **最少  **子数组数目。如果不能进行有效的子数组拆分，则返回 `-1`。

**注意** :

  * 两个数的 **最大公约数  **是能整除两个数的最大正整数。
  * **子数组  **是数组中连续的非空部分。



**示例 1:**

> 
> 
> 
> 
> 
> **输入:** nums = [2,6,3,4,3]
> 
> **输出:** 2
> 
> **解释:** 我们可以通过以下方式创建一个有效的分割: [2,6] | [3,4,3].
> - 第一个子数组的起始元素是 2，结束元素是 6。它们的最大公约数是 2，大于 1。
> - 第二个子数组的起始元素是 3，结束元素是 3。它们的最大公约数是 3，大于 1。
> 
> 可以证明，2 是我们在有效分割中可以获得的最少子数组数。
> 
> 

**示例 2:**

> 
> 
> 
> 
> 
> **输入:** nums = [3,5]
> 
> **输出:** 2
> 
> **解释:** 我们可以通过以下方式创建一个有效的分割: [3] | [5].
> - 第一个子数组的起始元素是 3，结束元素是 3。它们的最大公约数是 3，大于 1。
> - 第二个子数组的起始元素是 5，结束元素是 5。它们的最大公约数是 5，大于 1。
> 
> 可以证明，2 是我们在有效分割中可以获得的最少子数组数。
> 
> 

**示例  3:**

> 
> 
> 
> 
> 
> **输入:** nums = [1,2,1]
> 
> **输出:** -1
> 
> **解释:** 不可能创建有效的分割。



**提示:**

  * `1 <= nums.length <= 1000`
  * `1 <= nums[i] <= 10^5`


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 |
| :------: | :------ | :------: | :------ | :------ |
| 2436 | [使子数组最大公约数大于一的最小分割数](https://leetcode.com/problems/minimum-split-into-subarrays-with-gcd-greater-than-one) |  |  [`贪心`](/tag/greedy.md) [`数组`](/tag/array.md) [`数学`](/tag/math.md) `2+` | <font color=#ffb800>Medium</font> |