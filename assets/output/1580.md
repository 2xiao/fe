---
title: 1580. 把箱子放进仓库里 II 🔒
description: LeetCode 1580. 把箱子放进仓库里 II 🔒题解，Put Boxes Into the Warehouse II，包含解题思路、复杂度分析以及完整的 JavaScript 代码实现。
keywords:
  - LeetCode
  - 1580. 把箱子放进仓库里 II 🔒
  - 把箱子放进仓库里 II
  - Put Boxes Into the Warehouse II
  - 解题思路
  - 贪心
  - 数组
  - 排序
---

# 1580. 把箱子放进仓库里 II 🔒

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`贪心`](/tag/greedy.md) [`数组`](/tag/array.md) [`排序`](/tag/sorting.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/put-boxes-into-the-warehouse-ii) [`LeetCode`](https://leetcode.com/problems/put-boxes-into-the-warehouse-ii)

## 题目

You are given two arrays of positive integers, `boxes` and `warehouse`,
representing the heights of some boxes of unit width and the heights of `n`
rooms in a warehouse respectively. The warehouse's rooms are labeled from `0`
to `n - 1` from left to right where `warehouse[i]` (0-indexed) is the height
of the `ith` room.

Boxes are put into the warehouse by the following rules:

  * Boxes cannot be stacked.
  * You can rearrange the insertion order of the boxes.
  * Boxes can be pushed into the warehouse from **either side** (left or right)
  * If the height of some room in the warehouse is less than the height of a box, then that box and all other boxes behind it will be stopped before that room.

Return _the maximum number of boxes you can put into the warehouse._



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22.png)

> Input: boxes = [1,2,2,3,4], warehouse = [3,4,1,2]
> 
> Output: 4
> 
> Explanation:
> 
> ![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22-1.png)
> 
> We can store the boxes in the following order:
> 
> 1- Put the yellow box in room 2 from either the left or right side.
> 
> 2- Put the orange box in room 3 from the right side.
> 
> 3- Put the green box in room 1 from the left side.
> 
> 4- Put the red box in room 0 from the left side.
> 
> Notice that there are other valid ways to put 4 boxes such as swapping the red and green boxes or the red and orange boxes.

**Example 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22-2.png)

> Input: boxes = [3,5,5,2], warehouse = [2,1,3,4,5]
> 
> Output: 3
> 
> Explanation:
> 
> ![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22-3.png)
> 
> It is not possible to put the two boxes of height 5 in the warehouse since there's only 1 room of height >= 5.
> 
> Other valid solutions are to put the green box in room 2 or to put the orange box first in room 2 before putting the green and red boxes.

**Constraints:**

  * `n == warehouse.length`
  * `1 <= boxes.length, warehouse.length <= 10^5`
  * `1 <= boxes[i], warehouse[i] <= 10^9`


## 题目大意

给定两个正整数数组 `boxes` 和 `warehouse` ，分别包含单位宽度的箱子的高度，以及仓库中`n`个房间各自的高度。仓库的房间分别从`0` 到
`n - 1`自左向右编号，`warehouse[i]`（索引从 0 开始）是第 `i` 个房间的高度。

箱子放进仓库时遵循下列规则：

  * 箱子不可叠放。
  * 你可以重新调整箱子的顺序。
  * 箱子可以从任意方向（左边或右边）推入仓库中。
  * 如果仓库中某房间的高度小于某箱子的高度，则这个箱子和之后的箱子都会停在这个房间的前面。

你最多可以在仓库中放进多少个箱子？

**示例 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22.png)

> 
> 
> 
> 
> 
> **输入:** boxes = [1,2,2,3,4], warehouse = [3,4,1,2]
> 
> **输出:** 4
> 
> **解释:![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22-1.png)
> 
> **我们可以按如下顺序推入箱子:
> 
> 1- 从左边或右边把黄色箱子推入2号房间；
> 
> 2- 从右边把橙色箱子推入3号房间；
> 
> 3- 从左边把绿色箱子推入1号房间；
> 
> 4- 从左边把红色箱子推入0号房间；
> 
> 还有其他方式推入4个箱子，比如交换红色与绿色箱子，或者交换红色与橙色箱子。
> 
> 

**示例 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22-2.png)

> 
> 
> 
> 
> 
> **输入:** boxes = [3,5,5,2], warehouse = [2,1,3,4,5]
> 
> **输出:** 3
> 
> **解释:![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1500-1599/1580.Put%20Boxes%20Into%20the%20Warehouse%20II/images/22-3.png)
> 
> **因为只有一个高度大于等于5的房间，所以无法将两个高度为5的箱子都推入仓库。
> 
> 还有其他方式推入箱子，比如将绿色箱子推入2号房间，或者在绿色及红色箱子之前将橙色箱子推入2号房间。
> 
> 

**示例 3:**

> 
> 
> 
> 
> 
> **输入:** boxes = [1,2,3], warehouse = [1,2,3,4]
> 
> **输出:** 3
> 
> 

**示例 4:**

> 
> 
> 
> 
> 
> **输入:** boxes = [4,5,6], warehouse = [3,3,3,3,3]
> 
> **输出:** 0
> 
> 

**提示:**

  * `n == warehouse.length`
  * `1 <= boxes.length, warehouse.length <= 10^5`
  * `1 <= boxes[i], warehouse[i] <= 10^9`


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 1564 | 把箱子放进仓库里 I 🔒 |  |  [`贪心`](/tag/greedy.md) [`数组`](/tag/array.md) [`排序`](/tag/sorting.md) | 🟠 | [🀄️](https://leetcode.cn/problems/put-boxes-into-the-warehouse-i) [🔗](https://leetcode.com/problems/put-boxes-into-the-warehouse-i) |