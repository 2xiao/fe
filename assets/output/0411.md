---
title: 411. 最短独占单词缩写 🔒
description: LeetCode,411. 最短独占单词缩写 🔒,最短独占单词缩写,Minimum Unique Word Abbreviation,解题思路,位运算,数组,字符串,回溯
keywords:
  - LeetCode
  - 411. 最短独占单词缩写 🔒
  - 最短独占单词缩写
  - Minimum Unique Word Abbreviation
  - 解题思路
  - 位运算
  - 数组
  - 字符串
  - 回溯
---

# 411. 最短独占单词缩写 🔒

🔴 <font color=#ff334b>Hard</font>&emsp; 🔖&ensp; [`位运算`](/tag/bit-manipulation.md) [`数组`](/tag/array.md) [`字符串`](/tag/string.md) [`回溯`](/tag/backtracking.md)&emsp; 🔗&ensp;[`力扣`](https://leetcode.cn/problems/minimum-unique-word-abbreviation) [`LeetCode`](https://leetcode.com/problems/minimum-unique-word-abbreviation)

## 题目

A string can be **abbreviated** by replacing any number of **non-adjacent**
substrings with their lengths. For example, a string such as `"substitution"`
could be abbreviated as (but not limited to):

  * `"s10n"` (`"s _ubstitutio_ n"`)
  * `"sub4u4"` (`"sub _stit_ u _tion_ "`)
  * `"12"` (`"_substitution_ "`)
  * `"su3i1u2on"` (`"su _bst_ i _t_ u _ti_ on"`)
  * `"substitution"` (no substrings replaced)

Note that `"s55n"` (`"s _ubsti_ _tutio_ n"`) is not a valid abbreviation of
`"substitution"` because the replaced substrings are adjacent.

The **length** of an abbreviation is the number of letters that were not
replaced plus the number of substrings that were replaced. For example, the
abbreviation `"s10n"` has a length of `3` (`2` letters + `1` substring) and
`"su3i1u2on"` has a length of `9` (`6` letters + `3` substrings).

Given a target string `target` and an array of strings `dictionary`, return
_an**abbreviation** of _`target` _with the**shortest possible length** such
that it is **not an abbreviation** of **any** string in _`dictionary` _. If
there are multiple shortest abbreviations, return any of them_.



**Example 1:**

> Input: target = "apple", dictionary = ["blade"]
> 
> Output: "a4"
> 
> Explanation: The shortest abbreviation of "apple" is "5", but this is also an abbreviation of "blade".
> 
> The next shortest abbreviations are "a4" and "4e". "4e" is an abbreviation of blade while "a4" is not.
> 
> Hence, return "a4".

**Example 2:**

> Input: target = "apple", dictionary = ["blade","plain","amber"]
> 
> Output: "1p3"
> 
> Explanation: "5" is an abbreviation of both "apple" but also every word in the dictionary.
> 
> "a4" is an abbreviation of "apple" but also "amber".
> 
> "4e" is an abbreviation of "apple" but also "blade".
> 
> "1p3", "2p2", and "3l1" are the next shortest abbreviations of "apple".
> 
> Since none of them are abbreviations of words in the dictionary, returning any of them is correct.

**Constraints:**

  * `m == target.length`
  * `n == dictionary.length`
  * `1 <= m <= 21`
  * `0 <= n <= 1000`
  * `1 <= dictionary[i].length <= 100`
  * `log2(n) + m <= 21` if `n > 0`
  * `target` and `dictionary[i]` consist of lowercase English letters.
  * `dictionary` does not contain `target`.


## 题目大意

通过将任意数量的 **不相邻** 子字符串替换为它们的长度，可以完成对字符串的 **缩写** 。 例如，像 `"substitution"`
这样的字符串可以缩写为（但不限于）：

  * `"s10n"` (`"s **ubstitutio** n"`)
  * `"sub4u4"` (`"sub **stit** u **tion** "`)
  * `"12"` (`"**substitution** "`)
  * `"su3i1u2on"` (`"su **bst** i **t** u **ti** on"`)
  * `"substitution"` (不替换子字符串)

注意：`"s55n"` (`"s **ubsti** **tutio** n"`) 不是 `"substitution"`
的有效缩写形式，因为它试图替换两个相邻的子字符串。

缩写的 **长度** 是未被替换的字母数加上被替换的字符串数。例如，缩写 `"s10n"` 的长度为 `3`（`2` 个字母 + `1` 个子字符串），而
`"su3i1u2on"` 的长度为 `9`（`6` 个字母 + `3` 子字符串）。

给你一个目标字符串 `target` 和一个字符串数组 `dictionary` 作为字典，为 __`target` 找出并返回一个 **最短**
长度的缩写字符串，同时这个缩写字符串 **不是** 字典 `dictionary` 中其他字符串的缩写形式。如果有多个有效答案，可以返回其中任意一个。



**示例 1：**

> 
> 
> 
> 
> 
> **输入：** target = "apple", dictionary = ["blade"]
> 
> **输出：** "a4"
> 
> **解释：** "apple" 的最短缩写形式为 "5" ，但这也是 "blade" 的缩写形式之一。
> 
> 下一组最短缩写是 "a4" 和 "4e" ，其中 "4e" 也是 "blade" 的缩写形式之一，而 "a4" 不是。
> 
> 因此，返回 "a4" 。
> 
> 

**示例 2：**

> 
> 
> 
> 
> 
> **输入：** target = "apple", dictionary = ["blade","plain","amber"]
> 
> **输出：** "1p3"
> 
> **解释：** "5" 同时是 "apple" 和字典中所有单词的缩写形式。
> 
> "a4" 同时是 "apple" 和 "amber" 的缩写形式。
> 
> "4e" 同时是 "apple" 和 "blade" 的缩写形式。
> 
> "1p3"、"2p2" 和 "3l1" 是 "apple" 的下一组最短缩写形式。
> 
> 因为它们不是字典中其他单词的缩写形式，返回其中任意一个都是正确的。
> 
> 



**提示：**

  * `target.length == m`
  * `dictionary.length == n`
  * `1 <= m <= 21`
  * `0 <= n <= 1000`
  * `1 <= dictionary[i].length <= 100`
  * 如果 `n > 0` ，那么 `log2(n) + m <= 21`
  * `target` 和 `dictionary[i]` 仅包含小写字符
  * `dictionary` 不包含 `target`。




## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 | 力扣 |
| :------: | :------ | :------: | :------ | :------: | :------: |
| 320 | 列举单词的全部缩写 🔒 |  |  [`位运算`](/tag/bit-manipulation.md) [`字符串`](/tag/string.md) [`回溯`](/tag/backtracking.md) | 🟠 | [🀄️](https://leetcode.cn/problems/generalized-abbreviation) [🔗](https://leetcode.com/problems/generalized-abbreviation) |
| 408 | 有效单词缩写 🔒 |  |  [`双指针`](/tag/two-pointers.md) [`字符串`](/tag/string.md) | 🟢 | [🀄️](https://leetcode.cn/problems/valid-word-abbreviation) [🔗](https://leetcode.com/problems/valid-word-abbreviation) |
| 527 | 单词缩写 🔒 |  |  [`贪心`](/tag/greedy.md) [`字典树`](/tag/trie.md) [`数组`](/tag/array.md) `2+` | 🔴 | [🀄️](https://leetcode.cn/problems/word-abbreviation) [🔗](https://leetcode.com/problems/word-abbreviation) |