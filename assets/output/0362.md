# [362. 敲击计数器](https://leetcode.com/problems/design-hit-counter)

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`设计`](/tag/design.md) [`队列`](/tag/queue.md) [`数组`](/tag/array.md) [`二分查找`](/tag/binary-search.md) [`数据流`](/tag/data-stream.md)&emsp; 🔗&ensp;[`LeetCode`](https://leetcode.com/problems/design-hit-counter)

## 题目

Design a hit counter which counts the number of hits received in the past `5`
minutes (i.e., the past `300` seconds).

Your system should accept a `timestamp` parameter (**in seconds**
granularity), and you may assume that calls are being made to the system in
chronological order (i.e., `timestamp` is monotonically increasing). Several
hits may arrive roughly at the same time.

Implement the `HitCounter` class:

  * `HitCounter()` Initializes the object of the hit counter system.
  * `void hit(int timestamp)` Records a hit that happened at `timestamp` (**in seconds**). Several hits may happen at the same `timestamp`.
  * `int getHits(int timestamp)` Returns the number of hits in the past 5 minutes from `timestamp` (i.e., the past `300` seconds).



**Example 1:**

> 
> 
> 
> 
> 
> **Input**
> 
> ["HitCounter", "hit", "hit", "hit", "getHits", "hit", "getHits", "getHits"]
> 
> [[], [1], [2], [3], [4], [300], [300], [301]]
> 
> **Output**
> 
> [null, null, null, null, 3, null, 4, 3]
> 
> 
> 
> **Explanation**
> 
> HitCounter hitCounter = new HitCounter();
> 
> hitCounter.hit(1);> 
>    // hit at timestamp 1.
> 
> hitCounter.hit(2);> 
>    // hit at timestamp 2.
> 
> hitCounter.hit(3);> 
>    // hit at timestamp 3.
> 
> hitCounter.getHits(4);   // get hits at timestamp 4, return 3.
> 
> hitCounter.hit(300);> 
>  // hit at timestamp 300.
> 
> hitCounter.getHits(300); // get hits at timestamp 300, return 4.
> 
> hitCounter.getHits(301); // get hits at timestamp 301, return 3.

**Constraints:**

  * `1 <= timestamp <= 2 * 10^9`
  * All the calls are being made to the system in chronological order (i.e., `timestamp` is monotonically increasing).
  * At most `300` calls will be made to `hit` and `getHits`.



**Follow up:** What if the number of hits per second could be huge? Does your
design scale?


## 题目大意

设计一个敲击计数器，使它可以统计在过去 `5` 分钟内被敲击次数。（即过去 `300` 秒）

您的系统应该接受一个时间戳参数 `timestamp` (单位为 **秒**  )，并且您可以假定对系统的调用是按时间顺序进行的(即 `timestamp`
是单调递增的)。几次撞击可能同时发生。

实现 `HitCounter` 类:

  * `HitCounter()` 初始化命中计数器系统。
  * `void hit(int timestamp)` 记录在 `timestamp` ( **单位为秒**  )发生的一次命中。在同一个 `timestamp` 中可能会出现几个点击。
  * `int getHits(int timestamp)` 返回 `timestamp` 在过去 5 分钟内(即过去 `300` 秒)的命中次数。



**示例 1:**

> 
> 
> 
> 
> 
> **输入：**
> 
> ["HitCounter", "hit", "hit", "hit", "getHits", "hit", "getHits", "getHits"]
> 
> [[], [1], [2], [3], [4], [300], [300], [301]]
> 
> **输出：**
> 
> [null, null, null, null, 3, null, 4, 3]
> 
> 
> 
> **解释：**
> 
> HitCounter counter = new HitCounter();
> 
> counter.hit(1);// 在时刻 1 敲击一次。
> 
> counter.hit(2);// 在时刻 2 敲击一次。
> 
> counter.hit(3);// 在时刻 3 敲击一次。
> 
> counter.getHits(4);// 在时刻 4 统计过去 5 分钟内的敲击次数, 函数返回 3 。
> 
> counter.hit(300);// 在时刻 300 敲击一次。
> 
> counter.getHits(300); // 在时刻 300 统计过去 5 分钟内的敲击次数，函数返回 4 。
> 
> counter.getHits(301); // 在时刻 301 统计过去 5 分钟内的敲击次数，函数返回 3 。
> 
> 



**提示:**

  * `1 <= timestamp <= 2 * 10^9`
  * 所有对系统的调用都是按时间顺序进行的（即 `timestamp` 是单调递增的）
  * `hit` and `getHits `最多被调用 `300` 次



**进阶:**  如果每秒的敲击次数是一个很大的数字，你的计数器可以应对吗？


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 |
| :------: | :------ | :------: | :------ | :------ |
| 359 | [日志速率限制器](https://leetcode.com/problems/logger-rate-limiter) |  |  [`设计`](/tag/design.md) [`哈希表`](/tag/hash-table.md) [`数据流`](/tag/data-stream.md) | <font color=#15bd66>Easy</font> |