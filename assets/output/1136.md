# [1136. 并行课程](https://leetcode.com/problems/parallel-courses)

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`图`](/tag/graph.md) [`拓扑排序`](/tag/topological-sort.md)&emsp; 🔗&ensp;[`LeetCode`](https://leetcode.com/problems/parallel-courses)

## 题目

You are given an integer `n`, which indicates that there are `n` courses
labeled from `1` to `n`. You are also given an array `relations` where
`relations[i] = [prevCoursei, nextCoursei]`, representing a prerequisite
relationship between course `prevCoursei` and course `nextCoursei`: course
`prevCoursei` has to be taken before course `nextCoursei`.

In one semester, you can take **any number** of courses as long as you have
taken all the prerequisites in the **previous** semester for the courses you
are taking.

Return _the**minimum** number of semesters needed to take all courses_. If
there is no way to take all the courses, return `-1`.



**Example 1:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1100-1199/1136.Parallel%20Courses/images/course1graph.jpg)

> Input: n = 3, relations = [[1,3],[2,3]]
> 
> Output: 2
> 
> Explanation: The figure above represents the given graph.
> 
> In the first semester, you can take courses 1 and 2.
> 
> In the second semester, you can take course 3.

**Example 2:**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1100-1199/1136.Parallel%20Courses/images/course2graph.jpg)

> Input: n = 3, relations = [[1,2],[2,3],[3,1]]
> 
> Output: -1
> 
> Explanation: No course can be studied because they are prerequisites of each other.

**Constraints:**

  * `1 <= n <= 5000`
  * `1 <= relations.length <= 5000`
  * `relations[i].length == 2`
  * `1 <= prevCoursei, nextCoursei <= n`
  * `prevCoursei != nextCoursei`
  * All the pairs `[prevCoursei, nextCoursei]` are **unique**.


## 题目大意

给你一个整数 `n` ，表示编号从 `1` 到 `n` 的 `n` 门课程。另给你一个数组 `relations` ，其中 `relations[i] =
[prevCoursei, nextCoursei]` ，表示课程 `prevCoursei` 和课程 `nextCoursei` 之间存在先修关系：课程
`prevCoursei` 必须在 `nextCoursei` 之前修读完成。

在一个学期内，你可以学习 **任意数量** 的课程，但前提是你已经在 **上** 一学期修读完待学习课程的所有先修课程。

请你返回学完全部课程所需的 **最少** 学期数。如果没有办法做到学完全部这些课程的话，就返回 `-1`。





**示例 1：**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1100-1199/1136.Parallel%20Courses/images/course1graph.jpg)

> 
> 
> 
> 
> 
> **输入：** n = 3, relations = [[1,3],[2,3]]
> 
> **输出：** 2
> 
> **解释：** 上图表示课程之间的关系图：
> 
> 在第一学期，可以修读课程 1 和 2 。
> 
> 在第二学期，可以修读课程 3 。
> 
> 

**示例 2：**

![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/1100-1199/1136.Parallel%20Courses/images/course2graph.jpg)

> 
> 
> 
> 
> 
> **输入：** n = 3, relations = [[1,2],[2,3],[3,1]]
> 
> **输出：** -1
> 
> **解释：** 没有课程可以学习，因为它们互为先修课程。
> 
> 



**提示：**

  * `1 <= n <= 5000`
  * `1 <= relations.length <= 5000`
  * `relations[i].length == 2`
  * `1 <= prevCoursei, nextCoursei <= n`
  * `prevCoursei != nextCoursei`
  * 所有 `[prevCoursei, nextCoursei]` **互不相同**


## 解题思路

#### 复杂度分析

- **时间复杂度**：`O()`，
- **空间复杂度**：`O()`，

## 代码

```javascript

```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 |
| :------: | :------ | :------: | :------ | :------ |
| 210 | [课程表 II](https://leetcode.com/problems/course-schedule-ii) | [[✓]](/problem/0210.md) |  [`深度优先搜索`](/tag/depth-first-search.md) [`广度优先搜索`](/tag/breadth-first-search.md) [`图`](/tag/graph.md) `1+` | <font color=#ffb800>Medium</font> |
| 1494 | [并行课程 II](https://leetcode.com/problems/parallel-courses-ii) |  |  [`位运算`](/tag/bit-manipulation.md) [`图`](/tag/graph.md) [`动态规划`](/tag/dynamic-programming.md) `1+` | <font color=#ff334b>Hard</font> |
| 2050 | [并行课程 III](https://leetcode.com/problems/parallel-courses-iii) |  |  [`图`](/tag/graph.md) [`拓扑排序`](/tag/topological-sort.md) [`数组`](/tag/array.md) `1+` | <font color=#ff334b>Hard</font> |