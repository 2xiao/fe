# [2635. 转换数组中的每个元素](https://leetcode.com/problems/apply-transform-over-each-element-in-array)

🟢 <font color=#15bd66>Easy</font>&emsp; 🔗&ensp;[`LeetCode`](https://leetcode.com/problems/apply-transform-over-each-element-in-array)

## 题目

<p>编写一个函数，这个函数接收一个整数数组&nbsp;<code>arr</code> 和一个映射函数&nbsp; <code>fn</code>&nbsp;，通过该映射函数返回一个新的数组。</p>

<p>返回数组的创建语句应为 <code>returnedArray[i] = fn(arr[i], i)</code>&nbsp;。</p>

<p>请你在不使用内置方法&nbsp;<code>Array.map</code>&nbsp;的前提下解决这个问题。</p>

<p>&nbsp;</p>

<p><strong class="example">示例 1:</strong></p>

<pre>
<strong>输入：</strong>arr = [1,2,3], fn = function plusone(n) { return n + 1; }
<strong>输出：</strong>[2,3,4]
<strong>解释： </strong>
const newArray = map(arr, plusone); // [2,3,4]
此映射函数返回值是将数组中每个元素的值加 1。
</pre>

<p><strong class="example">示例</strong><strong class="example"> 2:</strong></p>

<pre>
<strong>输入：</strong>arr = [1,2,3], fn = function plusI(n, i) { return n + i; }
<strong>输出：</strong>[1,3,5]
<strong>解释：</strong>此映射函数返回值根据输入数组索引增加每个值。
</pre>

<p><strong class="example">示例&nbsp;3:</strong></p>

<pre>
<strong>输入：</strong>arr = [10,20,30], fn = function constant() { return 42; }
<strong>输出：</strong>[42,42,42]
<strong>解释：</strong>此映射函数返回值恒为 42。
</pre>

<p>&nbsp;</p>

<p><strong>提示：</strong></p>

<ul>
	<li><code>0 &lt;= arr.length &lt;= 1000</code></li>
	<li><code><font face="monospace">-10<sup>9</sup>&nbsp;&lt;= arr[i] &lt;= 10<sup>9</sup></font></code></li>
	<li><font face="monospace"><code>fn</code> 返回一个数</font></li>
</ul>
<span style="display:block"><span style="height:0px"><span style="position:absolute">​​​​​​</span></span></span>

## 解题思路

这个问题的本质就是实现一个类似于 JavaScript 内置的 `Array.prototype.map` 方法，主要考察你对数组遍历以及回调函数的理解。

1. 题目要求返回一个新的数组，所以初始化一个新数组，用于存储每次对元素应用函数 `fn` 后的结果。
2. 遍历原数组，对数组中的每个元素调用 `fn`，注意将当前元素 `arr[i]` 和当前元素的索引 `i` 作为参数传给 `fn`。
3. 保存每次的结果，将结果存入新数组。
4. 所有元素处理完毕后，返回包含结果的新数组。

> 注意：在 JavaScript 中，`map` 和 `forEach` 都是用于遍历数组的方法，区别是：
>
> - `map` 返回一个新数组，其中包含了对原数组的每个元素执行提供的回调函数后生成的新值，原数组不会被修改。
> - `forEach` 不返回任何值（返回值是 `undefined`），只是对每个数组元素执行一次提供的回调函数，一般用于执行副作用操作（如修改外部变量或处理 DOM）。
>
> 但需要注意数组内元素是引用类型的情况：
>
> - 基本类型：`map` 和 `forEach` 都不会修改原数组。
> - 引用类型：如果回调函数修改了对象的属性，那么原数组中的对象会被修改。

#### 复杂度分析

- **时间复杂度**：`O(n)`，其中 `n` 是数组的长度。遍历了整个数组，对每个元素调用一次 `fn`。
- **空间复杂度**：`O(n)`，需要一个新的数组来存储转换后的结果。

## 代码

```javascript
/**
 * @param {number[]} arr
 * @param {Function} fn
 * @return {number[]}
 */
var map = function (arr, fn) {
	let result = [];
	for (let i = 0; i < arr.length; i++) {
		result.push(fn(arr[i], i));
	}
	return result;
};
```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 |
| :------: | :------ | :------: | :------ | :------ |
| 2626 | [数组归约运算](https://leetcode.com/problems/array-reduce-transformation) | [[✓]](/problem/2626.md) |  | <font color=#15bd66>Easy</font> |
| 2631 | [分组](https://leetcode.com/problems/group-by) | [[✓]](/problem/2631.md) |  | <font color=#ffb800>Medium</font> |
| 2634 | [过滤数组中的元素](https://leetcode.com/problems/filter-elements-from-array) | [[✓]](/problem/2634.md) |  | <font color=#15bd66>Easy</font> |