# [73. 矩阵置零](https://leetcode.com/problems/set-matrix-zeroes)

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`数组`](/tag/array.md) [`哈希表`](/tag/hash-table.md) [`矩阵`](/tag/matrix.md)&emsp; 🔗&ensp;[`LeetCode`](https://leetcode.com/problems/set-matrix-zeroes)

## 题目

<p>给定一个&nbsp;<code><em>m</em> x <em>n</em></code> 的矩阵，如果一个元素为 <strong>0 </strong>，则将其所在行和列的所有元素都设为 <strong>0</strong> 。请使用 <strong><a href="http://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95" target="_blank">原地</a></strong> 算法<strong>。</strong></p>

<ul>
</ul>

<p>&nbsp;</p>

<p><strong>示例 1：</strong></p>
<img alt="" src="https://assets.leetcode.com/uploads/2020/08/17/mat1.jpg" style="width: 450px; height: 169px;" />
<pre>
<strong>输入：</strong>matrix = [[1,1,1],[1,0,1],[1,1,1]]
<strong>输出：</strong>[[1,0,1],[0,0,0],[1,0,1]]
</pre>

<p><strong>示例 2：</strong></p>
<img alt="" src="https://assets.leetcode.com/uploads/2020/08/17/mat2.jpg" style="width: 450px; height: 137px;" />
<pre>
<strong>输入：</strong>matrix = [[0,1,2,0],[3,4,5,2],[1,3,1,5]]
<strong>输出：</strong>[[0,0,0,0],[0,4,5,0],[0,3,1,0]]
</pre>

<p>&nbsp;</p>

<p><strong>提示：</strong></p>

<ul>
	<li><code>m == matrix.length</code></li>
	<li><code>n == matrix[0].length</code></li>
	<li><code>1 &lt;= m, n &lt;= 200</code></li>
	<li><code>-2<sup>31</sup> &lt;= matrix[i][j] &lt;= 2<sup>31</sup> - 1</code></li>
</ul>

<p>&nbsp;</p>

<p><strong>进阶：</strong></p>

<ul>
	<li>一个直观的解决方案是使用 &nbsp;<code>O(<em>m</em><em>n</em>)</code>&nbsp;的额外空间，但这并不是一个好的解决方案。</li>
	<li>一个简单的改进方案是使用 <code>O(<em>m</em>&nbsp;+&nbsp;<em>n</em>)</code> 的额外空间，但这仍然不是最好的解决方案。</li>
	<li>你能想出一个仅使用常量空间的解决方案吗？</li>
</ul>


## 解题思路

- 此题考查对程序的控制能力，无算法思想；
- 题目要求采用原地的算法，所有修改即在原二维数组上进行；
- 在二维数组中有 2 个特殊位置，一个是第一行，一个是第一列，先用 2 个变量记录这一行和这一列中是否有 0，防止之后的修改覆盖了这 2 个地方；
- 然后除去这一行和这一列以外的部分判断是否有 0，如果有 0，将它们所在的行第一个元素和所在列的第一个元素标记为 0 ；
- 最后通过标记，将对应的行列置 0 即可。

## 代码

```javascript
/**
 * @param {number[][]} matrix
 * @return {void} Do not return anything, modify matrix in-place instead.
 */
var setZeroes = function (matrix) {
	const m = matrix.length;
	const n = matrix[0].length;
	let first_row_has_zero = false;
	let first_line_has_zero = false;

	// 第一列是否有 0
	for (let i = 0; i < m; i++) {
		if (matrix[i][0] === 0) {
			first_row_has_zero = true;
			break;
		}
	}
	// 第一行是否有 0
	for (let j = 0; j < n; j++) {
		if (matrix[0][j] === 0) {
			first_line_has_zero = true;
			break;
		}
	}
	// 除第一行、第一列外，其他地方有 0，则将列首和行首置为 0
	for (let i = 1; i < m; i++) {
		for (let j = 1; j < n; j++) {
			if (matrix[i][j] === 0) {
				matrix[i][0] = 0;
				matrix[0][j] = 0;
			}
		}
	}
	// 遍历第一列，有 0 则将整行置为 0
	for (let i = 1; i < m; i++) {
		if (matrix[i][0] === 0) {
			for (let j = 1; j < n; j++) {
				matrix[i][j] = 0;
			}
		}
	}
	// 遍历第一行，有 0 则将整列置为 0
	for (let j = 1; j < n; j++) {
		if (matrix[0][j] === 0) {
			for (let i = 1; i < m; i++) {
				matrix[i][j] = 0;
			}
		}
	}
	// 若第一列原本有 0，则将第一列都置为 0
	if (first_row_has_zero) {
		for (let i = 0; i < m; i++) {
			matrix[i][0] = 0;
		}
	}
	// 若第一行原本有 0，则将第一行都置为 0
	if (first_line_has_zero) {
		for (let j = 0; j < n; j++) {
			matrix[0][j] = 0;
		}
	}
};
```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 |
| :------: | :------ | :------: | :------ | :------ |
| 289 | [生命游戏](https://leetcode.com/problems/game-of-life) | [[✓]](/problem/0289.md) |  [`数组`](/tag/array.md) [`矩阵`](/tag/matrix.md) [`模拟`](/tag/simulation.md) | <font color=#ffb800>Medium</font> |
| 2123 | [使矩阵中的 1 互不相邻的最小操作数](https://leetcode.com/problems/minimum-operations-to-remove-adjacent-ones-in-matrix) |  |  [`图`](/tag/graph.md) [`数组`](/tag/array.md) [`矩阵`](/tag/matrix.md) | <font color=#ff334b>Hard</font> |
| 2125 | [银行中的激光束数量](https://leetcode.com/problems/number-of-laser-beams-in-a-bank) |  |  [`数组`](/tag/array.md) [`数学`](/tag/math.md) [`字符串`](/tag/string.md) `1+` | <font color=#ffb800>Medium</font> |
| 2174 | [通过翻转行或列来去除所有的 1 II](https://leetcode.com/problems/remove-all-ones-with-row-and-column-flips-ii) |  |  [`位运算`](/tag/bit-manipulation.md) [`广度优先搜索`](/tag/breadth-first-search.md) [`数组`](/tag/array.md) `1+` | <font color=#ffb800>Medium</font> |