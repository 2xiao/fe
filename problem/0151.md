# [151. 反转字符串中的单词](https://leetcode.com/problems/reverse-words-in-a-string)

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`双指针`](/tag/two-pointers.md) [`字符串`](/tag/string.md)&emsp; 🔗&ensp;[`LeetCode`](https://leetcode.com/problems/reverse-words-in-a-string)

## 题目

<p>给你一个字符串 <code>s</code> ，请你反转字符串中 <strong>单词</strong> 的顺序。</p>

<p><strong>单词</strong> 是由非空格字符组成的字符串。<code>s</code> 中使用至少一个空格将字符串中的 <strong>单词</strong> 分隔开。</p>

<p>返回 <strong>单词</strong> 顺序颠倒且 <strong>单词</strong> 之间用单个空格连接的结果字符串。</p>

<p><strong>注意：</strong>输入字符串 <code>s</code>中可能会存在前导空格、尾随空格或者单词间的多个空格。返回的结果字符串中，单词间应当仅用单个空格分隔，且不包含任何额外的空格。</p>

<p>&nbsp;</p>

<p><strong>示例 1：</strong></p>

<pre>
<strong>输入：</strong>s = "<code>the sky is blue</code>"
<strong>输出：</strong>"<code>blue is sky the</code>"
</pre>

<p><strong>示例 2：</strong></p>

<pre>
<strong>输入：</strong>s = " &nbsp;hello world &nbsp;"
<strong>输出：</strong>"world hello"
<strong>解释：</strong>反转后的字符串中不能存在前导空格和尾随空格。
</pre>

<p><strong>示例 3：</strong></p>

<pre>
<strong>输入：</strong>s = "a good &nbsp; example"
<strong>输出：</strong>"example good a"
<strong>解释：</strong>如果两个单词间有多余的空格，反转后的字符串需要将单词间的空格减少到仅有一个。
</pre>

<p>&nbsp;</p>

<p><strong>提示：</strong></p>

<ul>
	<li><code>1 &lt;= s.length &lt;= 10<sup>4</sup></code></li>
	<li><code>s</code> 包含英文大小写字母、数字和空格 <code>' '</code></li>
	<li><code>s</code> 中 <strong>至少存在一个</strong> 单词</li>
</ul>

<ul>
</ul>

<p>&nbsp;</p>

<p><strong>进阶：</strong>如果字符串在你使用的编程语言中是一种可变数据类型，请尝试使用&nbsp;<code>O(1)</code> 额外空间复杂度的 <strong>原地</strong> 解法。</p>


## 解题思路

### 思路一：分割+倒序

常规的方式是把 `s` 按空格 `split` 成若干单词，然后 `reverse` 这些单词的顺序，最后把这些单词 `join` 成句子。

#### 复杂度分析

- **时间复杂度**： `O(n)`，其中 `n` 为字符串 `s` 的长度；
  - `split()` 方法为 `O(n)`
  - `reverse()` 方法为 `O(n)`
  - `filter()` 方法为 `O(n)`
  - `join()` 方法为 `O(n)`
- **空间复杂度**： `O(n)`，新建的字符串数组总长度 `≤n` ，占用 `O(n)` 大小的额外空间。

---

### 思路二：双指针

- 倒序遍历字符串 `s` ，记录单词左右索引边界 `i` , `j` 。
- 每确定一个单词的边界，则将其添加至单词列表 `res` 。
- 最终，将单词列表拼接为字符串，并返回即可。

#### 复杂度分析

- **时间复杂度**： `O(n)`，其中 `n` 为字符串 `s` 的长度；
- **空间复杂度**： `O(1)`

## 代码

::: code-tabs

@tab 分割+倒序

```javascript
/**
 * @param {string} s
 * @return {string}
 */
var reverseWords = function (s) {
	return s
		.split(' ')
		.reverse()
		.filter((i) => i != '')
		.join(' ');
};
```

@tab 双指针

```javascript
/**
 * @param {string} s
 * @return {string}
 */
var reverseWords = function (s) {
	s = s.trim();
	let i = (j = s.length - 1),
		res = '';
	while (i >= 0) {
		while (i >= 0 && s[i] != ' ') {
			i--;
		}
		res += s.slice(i + 1, j + 1);
		while (i >= 0 && s[i] == ' ') {
			i--;
		}
		j = i;
		if (i != -1) {
			res += ' ';
		}
	}
	return res;
};
```

:::

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 |
| :------: | :------ | :------: | :------ | :------ |
| 186 | [反转字符串中的单词 II](https://leetcode.com/problems/reverse-words-in-a-string-ii) |  |  [`双指针`](/tag/two-pointers.md) [`字符串`](/tag/string.md) | <font color=#ffb800>Medium</font> |