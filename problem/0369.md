# [369. 给单链表加一](https://leetcode.com/problems/plus-one-linked-list)

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`链表`](/tag/linked-list.md) [`数学`](/tag/math.md)&emsp; 🔗&ensp;[`LeetCode`](https://leetcode.com/problems/plus-one-linked-list)

## 题目

<p>给定一个用<strong>链表</strong>表示的非负整数， 然后将这个整数&nbsp;<em>再加上 1</em> 。</p>

<p>这些数字的存储是这样的：最高位有效的数字位于链表的首位<meta charset="UTF-8" />&nbsp;<code>head</code>&nbsp;。</p>

<p>&nbsp;</p>

<p><strong>示例 1:</strong></p>

<pre>
<strong>输入: </strong>head = [1,2,3]
<strong>输出: </strong>[1,2,4]
</pre>

<p><meta charset="UTF-8" /></p>

<p><strong>示例</strong><strong>&nbsp;2:</strong></p>

<pre>
<strong>输入: </strong>head = [0]
<strong>输出: </strong>[1]
</pre>

<p>&nbsp;</p>

<p><strong>提示：</strong></p>

<ul>
	<li>链表中的节点数在<meta charset="UTF-8" />&nbsp;<code>[1, 100]</code>&nbsp;的范围内。</li>
	<li><code>0 &lt;= Node.val &lt;= 9</code></li>
	<li>由链表表示的数字不包含前导零，除了零本身。</li>
</ul>

## 解题思路

1. 反转链表。
2. 从链表头部开始遍历，逐位进行加一操作，处理进位。
3. 将链表再次反转，得到最终结果。

## 代码

```javascript
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
var plusOne = function (head) {
	// 1. 反转链表
	let reversedHead = reverse(head);
	let cur = reversedHead;
	let carry = 1;

	// 2. 遍历链表，对每个节点加一并处理进位
	while (cur && carry > 0) {
		let sum = cur.val + carry;
		cur.val = sum % 10; // 更新当前节点的值
		carry = Math.floor(sum / 10); // 计算进位
		if (cur.next) {
			cur = cur.next;
		} else if (carry > 0) {
			// 处理最高位的进位
			cur.next = new ListNode(carry);
			break;
		}
	}

	// 3. 再次反转链表得到结果
	return reverse(reversedHead);
};

var reverse = function (head) {
	let prev = null;
	let cur = head;
	while (cur) {
		let next = cur.next;
		cur.next = prev;
		prev = cur;
		cur = next;
	}
	return prev;
};
```
