# [400. 第 N 位数字](https://leetcode.com/problems/nth-digit)

🟠 <font color=#ffb800>Medium</font>&emsp; 🔖&ensp; [`数学`](/tag/math.md) [`二分查找`](/tag/binary-search.md)&emsp; 🔗&ensp;[`LeetCode`](https://leetcode.com/problems/nth-digit)

## 题目

<p>给你一个整数 <code>n</code> ，请你在无限的整数序列&nbsp;<code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ...]</code> 中找出并返回第&nbsp;<code>n</code><em> </em>位上的数字。</p>

<p>&nbsp;</p>

<p><strong>示例 1：</strong></p>

<pre>
<strong>输入：</strong>n = 3
<strong>输出：</strong>3
</pre>

<p><strong>示例 2：</strong></p>

<pre>
<strong>输入：</strong>n = 11
<strong>输出：</strong>0
<strong>解释：</strong>第 11 位数字在序列 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ... 里是 <strong>0 </strong>，它是 10 的一部分。
</pre>

<p>&nbsp;</p>

<p><strong>提示：</strong></p>

<ul>
	<li><code>1 &lt;= n &lt;= 2<sup>31</sup> - 1</code></li>
</ul>


## 解题思路

1. **确定数字的位数**：

   - 计算在每个数字位数范围（1 ~ 9: 1 位、10 ~ 99: 2 位、100 ~ 999: 3 位等）中包含的数字总数，直到找到 `n` 位所在的范围。
   - 对于 `k` 位数字，范围内的数字总个数为 `9 * 10^(k-1)`，且它们的总位数为 `k * 9 * 10^(k-1)`。

2. **找到目标数字**：
   - 确定 `n` 所在的具体数字范围后，计算出是哪个数字以及在这个数字中的具体位置。
   - 通过计算偏移量确定要返回的数字。

#### 复杂度分析

- **时间复杂度**：`O(log_10 n)`，通过不断增加位数，最多会进行对数级别的计算。
- **空间复杂度**：`O(1)`，只使用了常数级别的额外空间，存储了少量变量。

## 代码

```javascript
/**
 * @param {number} n
 * @return {number}
 */
var findNthDigit = function (n) {
	let digit = 1; // 当前位数
	let count = 9; // 当前位数的数字总数
	let start = 1; // 当前位数的起始数字

	// 找到 n 所在的位数范围
	while (n > count * digit) {
		n -= count * digit;
		digit++;
		count *= 10;
		start *= 10;
	}

	// 找到 n 所在的具体数字
	const num = start + Math.floor((n - 1) / digit);
	const index = (n - 1) % digit;

	// 转换数字为字符串以获取具体的第 n 位数字
	return Number(String(num)[index]);
};
```
