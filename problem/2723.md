# [2723. 两个 Promise 对象相加](https://leetcode.com/problems/add-two-promises)

🟢 <font color=#15bd66>Easy</font>&emsp; 🔗&ensp;[`LeetCode`](https://leetcode.com/problems/add-two-promises)

## 题目

给定两个 promise 对象&nbsp;<code>promise1</code> 和 <code>promise2</code>，返回一个新的 promise。<code>promise1</code> 和 <code>promise2</code> 都会被解析为一个数字。返回的 Promise 应该解析为这两个数字的和。
<p>&nbsp;</p>

<p><strong class="example">示例 1：</strong></p>

<pre>
<b>输入：</b>
promise1 = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(2), 20)), 
promise2 = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(5), 60))
<b>输出：</b>7
<b>解释：</b>两个输入的 Promise 分别解析为值 2 和 5。返回的 Promise 应该解析为 2 + 5 = 7。返回的 Promise 解析的时间不作为判断条件。
</pre>

<p><strong class="example">示例 2：</strong></p>

<pre>
<b>输入：</b>
promise1 = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(10), 50)), 
promise2 = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(-12), 30))
<b>输出：</b>-2
<b>解释：</b>两个输入的 Promise 分别解析为值 10 和 -12。返回的 Promise 应该解析为 10 + -12 = -2。
</pre>

<p>&nbsp;</p>

<p><strong>提示：</strong></p>

<ul>
	<li><code>promise1 和 promise2</code> 都是被解析为一个数字的 promise 对象</li>
</ul>


## 解题思路

1. **Promise 解析**：JavaScript 的 `Promise` 是一种用于异步操作的对象，支持异步操作结束后（不论是成功还是失败）执行相应的处理代码。我们需要从两个 `Promise` 中解析出它们的值。

2. **组合 Promise**：可以使用 `Promise.all()` 来处理多个 Promise，它接收一个 Promise 数组，并返回一个新的 Promise，当所有输入的 Promise 都解决（fulfilled）时，新的 Promise 也会被解决，并且其解析值为输入 Promise 的解析值组成的数组。

3. **返回结果**：当两个 Promise 都成功解析后，我们将它们的值相加，并返回一个新的 Promise。

#### 复杂度分析

- **时间复杂度**：`O(1)`，因为 `Promise.all()` 会并发执行两个 Promise，它本身并不耗费额外时间。
- **空间复杂度**：`O(1)`，只需要常数空间来存储两个 Promise 的解析值。

## 代码

```javascript
/**
 * @param {Promise} promise1
 * @param {Promise} promise2
 * @return {Promise}
 */
var addTwoPromises = async function (promise1, promise2) {
	return Promise.all([promise1, promise2]).then((values) => {
		return values[0] + values[1]; // 将两个 Promise 的结果相加
	});
};

/**
 * addTwoPromises(Promise.resolve(2), Promise.resolve(2))
 *   .then(console.log); // 4
 */
```
