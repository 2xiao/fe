# [35. 搜索插入位置](https://leetcode.com/problems/search-insert-position)

🟢 <font color=#15bd66>Easy</font>&emsp; 🔖&ensp; [`数组`](/tag/array.md) [`二分查找`](/tag/binary-search.md)&emsp; 🔗&ensp;[`LeetCode`](https://leetcode.com/problems/search-insert-position)

## 题目

<p>给定一个排序数组和一个目标值，在数组中找到目标值，并返回其索引。如果目标值不存在于数组中，返回它将会被按顺序插入的位置。</p>

<p>请必须使用时间复杂度为 <code>O(log n)</code> 的算法。</p>

<p>&nbsp;</p>

<p><strong>示例 1:</strong></p>

<pre>
<strong>输入:</strong> nums = [1,3,5,6], target = 5
<strong>输出:</strong> 2
</pre>

<p><strong>示例&nbsp;2:</strong></p>

<pre>
<strong>输入:</strong> nums = [1,3,5,6], target = 2
<strong>输出:</strong> 1
</pre>

<p><strong>示例 3:</strong></p>

<pre>
<strong>输入:</strong> nums = [1,3,5,6], target = 7
<strong>输出:</strong> 4
</pre>

<p>&nbsp;</p>

<p><strong>提示:</strong></p>

<ul>
	<li><code>1 &lt;= nums.length &lt;= 10<sup>4</sup></code></li>
	<li><code>-10<sup>4</sup> &lt;= nums[i] &lt;= 10<sup>4</sup></code></li>
	<li><code>nums</code> 为&nbsp;<strong>无重复元素&nbsp;</strong>的&nbsp;<strong>升序&nbsp;</strong>排列数组</li>
	<li><code>-10<sup>4</sup> &lt;= target &lt;= 10<sup>4</sup></code></li>
</ul>


## 解题思路

可以使用 **二分查找法** 来解决这个问题，二分查找的思路是每次将数组分成两半，逐步缩小查找范围 `[left, right]`，如果找到与 `target` 相等的数就返回 `mid` ，否则返回 `left`。

1. 初始化两个指针 `left` 和 `right`，分别指向数组的左右两端。
2. 计算中间位置 `mid`，比较 `nums[mid]` 和 `target`：
   - 如果 `nums[mid] == target`，返回 `mid`，即 `target` 的索引位置。
   - 如果 `nums[mid] < target`，说明 `target` 应该在右半部分，移动 `left` 指针到 `mid + 1`。
   - 如果 `nums[mid] > target`，说明 `target` 应该在左半部分，移动 `right` 指针到 `mid - 1`。
3. 如果遍历完数组仍未找到 `target`，则返回 `left`，此时 `left` 就是 `target` 应该插入的位置。

#### 复杂度分析

- **时间复杂度**：`O(log n)`，每次查找都会将数组的查找范围缩小一半。
- **空间复杂度**：`O(1)`，只使用了常数级别的额外空间

## 代码

```javascript
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number}
 */
var searchInsert = function (nums, target) {
	let left = 0;
	let right = nums.length - 1;
	while (left <= right) {
		const mid = Math.floor((right + left) / 2);
		if (nums[mid] == target) {
			return mid;
		} else if (nums[mid] < target) {
			left = mid + 1;
		} else if (nums[mid] > target) {
			right = mid - 1;
		}
	}
	return left;
};
```

## 相关题目

<!-- prettier-ignore -->
| 题号 | 标题 | 题解 | 标签 | 难度 |
| :------: | :------ | :------: | :------ | :------ |
| 278 | [第一个错误的版本](https://leetcode.com/problems/first-bad-version) | [[✓]](/problem/0278.md) |  [`二分查找`](/tag/binary-search.md) [`交互`](/tag/interactive.md) | <font color=#15bd66>Easy</font> |
| 3065 | [超过阈值的最少操作数 I](https://leetcode.com/problems/minimum-operations-to-exceed-threshold-value-i) |  |  [`数组`](/tag/array.md) | <font color=#15bd66>Easy</font> |